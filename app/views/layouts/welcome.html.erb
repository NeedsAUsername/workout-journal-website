<!DOCTYPE html>
<html>
  <head>
    <title>Workout Journal</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,700|Merriweather:400,700">
    <link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
  </head>

  <body class="black" style="transition: background 0.2s ease-out 0s;">
    <div class="p3 center column-4", style="margin-left:33%;">
      <% if flash[:message].present? %>
      <div class="button flash">
        <%= flash[:message] %>
      </div>
      <% end %>

        <%= yield %>

      <footer class="footer" style="margin-top: -10px;">
        <small>&copy; 2018 <strong>WorkoutJournalProject</strong></small>
      </footer>
    </div>

    <div class="modal-bg login-form">
      <div class="modal-content">
        <div class="close-modal">+</div>
        <h1>Login</h1>
        <%= render partial: 'sessions/login_form', locals:{user: User.new} %>
      </div>
    </div>
    <div class="modal-bg signup-form">
      <div class="modal-content">
        <div class="close-modal">+</div>
        <h1>Login</h1>
        <%= render partial: 'users/signup_form', locals:{user: User.new} %>
      </div>
    </div>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script type="text/javascript">
      document.getElementById('login-link').addEventListener('click', function(e) {
        e.preventDefault();
        document.querySelector('.login-form').style.display = 'flex';
      });
      document.getElementById('signup-link').addEventListener('click', function(e) {
        e.preventDefault();
        document.querySelector('.signup-form').style.display = 'flex';
      });
      let closes = document.querySelectorAll('.close-modal');
      for (let i = 0; i < closes.length; i++) {
        closes[i].addEventListener('click', function(e) {
          document.querySelector('.signup-form').style.display = 'none';
          document.querySelector('.login-form').style.display = 'none';
        });
      }
    </script>
  </body>
</html>
