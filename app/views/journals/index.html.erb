<h3>
  Your Current Program: <%= link_to @program_plan.name, program_plan_path(@program_plan) %>
  <br>Routine:
  <ul>
  <% @program_plan.days.each do |day| %>
    <li>
      <div class="workout-link links">
        <%= day.name %>
      </div>-
      <% day.exercises.each_with_index do |exercise, i| %>
        <% if i == day.exercises.length - 1 %>
          <%= exercise.name %>
        <% else %>
          <%= exercise.name %>,
        <% end %>
      <% end %>
    </li>
  <% end %>
  </ul>
</h3>
<h2>Log your workout</h2>
<%= render partial: 'form',
  locals: {
    journal: @journal,
    program_plan: @program_plan,
    entry: @entry,
    nested_exercises_list: @program_plan.exercises
  }
%>


<script type="text/javascript">
  let workouts = document.querySelectorAll('.workout-link');
  for (let i = 0; i < workouts.length; i++) {
    workouts[i].addEventListener('click', function(e){
      let allForms = document.querySelectorAll('.workout-form');
      for (let i = 0; i < allForms.length; i++) {
        allForms[i].style.display = 'none';
      }
      let currentForm = document.querySelector(`.${workouts[i].textContent.trim().split(' ').join('')}`);
      currentForm.style.display = 'block';
    })
  }
</script>
